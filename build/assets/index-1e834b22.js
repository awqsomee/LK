var g=Object.defineProperty,h=Object.defineProperties;var F=Object.getOwnPropertyDescriptors;var p=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable;var m=(s,e,t)=>e in s?g(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t,f=(s,e)=>{for(var t in e||(e={}))A.call(e,t)&&m(s,t,e[t]);if(p)for(var t of p(e))j.call(e,t)&&m(s,t,e[t]);return s},v=(s,e)=>h(s,F(e));import{j as l,i as N,r as d}from"./vendor-8a1e4858.js";import{dW as S,q as w,bw as y,e0 as L,cm as q,a5 as C,bA as D,t as E,bB as O,i as B,d2 as R,cZ as T,bC as _}from"./index-da560b3a.js";const M=new Date("2025 Jul 19"),U=[{id:0,title:"Поступающий в бакалавриат, специалитет, магистратуру"},{id:1,title:"Поступающий в аспирантуру"}],G=s=>{const{surname:e,name:t,patronymic:a,group:i,email:o,phone:r}=s;return{title:"Предоставление права проживания в каникулярный период (для выпускников университета, проживающих в общежитиях)",data:[{title:"ФИО",fieldName:"fio",value:e+" "+t+" "+a,editable:!1},{title:"Учебная группа",fieldName:"group",type:"tel",value:i,editable:!1},{title:"Электронная почта",fieldName:"email",type:"email",value:o,editable:!0,required:!0},{title:"Телефон",fieldName:"phone",type:"tel",value:r,editable:!0,required:!0},{title:"Общежитие",fieldName:"hostel",value:null,type:"select",width:"100%",editable:!0,required:!0,items:S},{title:"Комната",placeholder:"Укажите номер комнаты, в которую хотите переселиться",fieldName:"room",value:"",editable:!0,required:!0},{title:"Статус",fieldName:"status-for-hostel",value:null,type:"select",width:"100%",editable:!0,required:!0,items:U}],hint:l.jsxs(l.Fragment,{children:[l.jsx("p",{children:"Прикрепите расписку из приемной комиссии о подаче документов для поступления"}),l.jsx("br",{}),l.jsx("p",{children:"Подача заявок доступна до даты окончания ГИА вашей учебной группы"})]}),documents:{files:[],fieldName:"docs",required:!1,maxFiles:3,allowedTypes:["pdf"]}}},W=()=>{var s,e,t;const a=N(w.user),[i,o]=d.useState(null),{data:{dataUserApplication:r}}=y.useApplications(),[u,c]=d.useState(!1),[x,b]=d.useState(!1),n=u!=null?u:!1;return d.useEffect(()=>{r&&o(G(r))},[r]),!["4","5","6"].includes((s=a==null?void 0:a.course)!==null&&s!==void 0?s:"")&&!(a!=null&&(e=a.status)!==null&&e!==void 0&&(e=e.toLocaleLowerCase())!==null&&e!==void 0&&e.includes("окончил"))&&!((a==null||(t=a.degreeLevel)===null||t===void 0?void 0:t.toLocaleLowerCase())==="магистратура"&&(a==null?void 0:a.course)==="2")?l.jsx(L,{isRedirectButtonVisible:!1,errorText:"Сервис доступен только выпускникам университета, проживающих в общежитии"}):q&&new Date>M?l.jsx(C,{text:"Подача заявок закончилась"}):l.jsx(D,{isDone:n,children:!!i&&!!o&&l.jsxs(E,{noHeader:!0,children:[l.jsx(O,v(f({},i),{collapsed:n,setData:o})),l.jsx(B,{text:"Отправить",action:()=>R(T.ACCOMMODATION_FOR_GRADUATES,[i],b,c,!1),isLoading:x,completed:u,setCompleted:c,repeatable:!1,buttonSuccessText:"Отправлено",isDone:n,isActive:_(i),popUpFailureMessage:"Для отправки формы необходимо, чтобы все поля были заполнены",popUpSuccessMessage:"Данные формы успешно отправлены"})]})})};export{W as default};
